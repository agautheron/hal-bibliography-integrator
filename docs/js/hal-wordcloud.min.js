"use strict";function e(e,l){var o=document.createElement("a");return o.classList="keyword keyword-"+l,o.setAttribute("href","https://hal.science/search/?q=*&authIdHal_s="+idhal+"&keyword_s="+e),o.setAttribute("target","_blank"),o.innerText=e,o}var l=document.getElementById("wordcloud-hal");null===l?"undefined"!=typeof halDebug&&halDebug&&console.log("No HAL wordcloud div on this page"):document.addEventListener("halMainDone",(()=>{var o,a;"wordcloud"in hal_plugins&&"doit"in hal_plugins.wordcloud&&!hal_plugins.wordcloud.doit||(o=l,a=create_spinner("hal-wordcloud-spinner"),o.appendChild(a),"undefined"!=typeof halDebug&&halDebug&&(console.log("Create wordcloud of keywords in "),console.log(l)),function(l){"undefined"!=typeof halDebug&&halDebug&&console.log(globalHalData);var o=[];for(const e in globalHalData)for(const l in globalHalData[e])null!=globalHalData[e][l].en_keyword_s&&o.push({en_keyword_s:globalHalData[e][l].en_keyword_s});var a=document.createElement("div");a.classList="hal-cloud-word","undefined"!=typeof halDebug&&halDebug&&console.log(o);const n=o.flatMap((e=>e.en_keyword_s)).filter((e=>null!=e&&""!==e)),t={};n.forEach((e=>t[e]?t[e]++:t[e]=1));var d=Object.entries(t).reduce(((e,l)=>e[1]>l[1]?e:l))[1],r=Object.entries(t).reduce(((e,l)=>e[1]<l[1]?e:l))[1],s=Object.keys(t).length,u=Array.from(Array(s).keys());u.sort((function(e,l){return.5-Math.random()}));for(let l=0;l<s;l++){var c=Object.keys(t)[u[l]],i=(9*Object.values(t)[u[l]]+d-10*r)/(d-r);a.appendChild(e(c,i))}l.appendChild(a),document.getElementById("hal-wordcloud-spinner").style.display="none"}(l))}));
